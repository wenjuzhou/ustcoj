# Product Requirement Document for USTC-OJ

## OJ Development Group

### 修改历史

| 修改日期      | 修改内容       |
| ------------ | ------------- |
| 2018.03.31   | 创建表格       |
| 2018.04.29 | 微调格式 |

## 介绍

OJ(Online Judge)系统已经在编程教学中普遍使用。但是，现有的OJ系统在教学中仍有一些问题。为了在编程教学中更好地应用OJ，我们要实现一个功能更为强大的针对于编程教学的OJ系统。

## 需求

新的OJ系统需要在现有OJ的功能的基础上，添加针对于编程教学的需求。他在数据、接口等方面的需求和传统OJ有些微不同。

### 功能需求概要

除了像现有的OJ给出程序编译运行的评判结果，新的OJ还需要对程序进行不同层次包括解题方法、代码质量等的分析。此外，新OJ支持老师建立课程小组，按照课程小组布置任务，设置任务的相关参数并且新OJ会对任务完成情况进行统计并反馈给老师。用户可以获取他人的源码并进行打标签和评价，用户可以通过OJ提供的平台进行交流。

### 评测需求

1. 测试样例评测
通过编译运行提交程序的通过测试案例来评测程序的正确性。能给用户提供部分错误样例的信息。

2. 解题方法评测
通过分析用户提交程序源码和其他用户标签来评测程序的解题方法。

3. 代码质量评测
通过自动化分析和其他用户标签对用户提交程序的代码质量进行评测。

4. 代码相似检测
通过查重工具对代码之间的相似性进行检测。

### 接口需求

1. 普通用户接口
注册账号，登录系统，搜索和获取题目，提交程序源码，获取分析报告，浏览自己的提交历史记录和源文件，获取和标签其他用户匿名的源码，平台讨论，申请加入小组。

2. 学生用户接口
注册账号，绑定账号和学号，登录系统，搜索和获取题目，提交程序源码，获取分析报告，浏览自己的提交历史记录和源文件，获取和标签其他用户匿名的源码，平台讨论，申请加入小组。

3. 教师用户接口
注册账号，登录系统，平台讨论，申请教师认证，申请创建教学小组，申请创建新题目，为教学小组安排任务并设置任务参数，获取小组成员的源码及分析报告，获取小组成员的任务完成情况统计结果。

4. 系统管理员接口
用户认证，用户信息管理，题库维护，交流平台管理。

### 数据需求
1. 题目数据
部分题目的题目信息和测试样例在本地服务器存储，支持对其他平台的题目的数据进行访问或迁移。

2. 用户数据
将用户的的数据存储在本地服务器，用户的数据主要包括账号、密码、权限、提交记录、分析报告和标签结果等。

### 性能需求
1. 准确度
用户提交程序的分析报告和对小组的任务完成情况统计要尽量准确。

2. 时间
对用用户的提交应能在一分钟之内完成评测并返回分析报告。对小组任务完成情况的统计应该在deadline之后的24小时内完成。

3. 语言支持
新的OJ系统应支持不同的主流编程语言，以完成不同用户的需求。

### 属性
1. 安全性
新的OJ系统应能保证安全性，能避免SQL注入、恶意代码提交等恶意攻击。避免非系统管理用户对用户信息的篡改，避免恶意攻击服务器导致系统服务质量的降低。

2. 可维护性
为系统管理人员提供系统的信息和维护接口，保证系统的维护性，以便维护和更新系统。

3. 可扩展性
保证系统的规模和功能两方面的可扩展性。

## 环境 ##
### 硬件环境 ###
### 软件环境 ###
## 结构 ##
### 系统架构 ###
### 普通用户提交流程 ###
### 教学小组任务流程 ###
